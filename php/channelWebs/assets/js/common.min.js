function getGeocode(a){return Object.keys(a)[0]}function getGeocodeName(a){return a[Object.keys(a)[0]]}function objIsEmpty(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function getURIQueryString(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}function deleteSub(a){var b=document.getElementById("subc__desc"),c=document.getElementById("subc__infoaction"),d={authToken:AUTH_TOKEN,memberId:a.dataset.mid,datasetId:a.value},e=API_HOST+SRU+"/deleteSubscriptionContainer/";$.ajax({url:e,data:JSON.stringify(d),method:"DELETE",dataType:"json",async:!1}).done(function(d){return d.result===!1?void alert("\u60a8\u5df2\u522a\u9664\u670d\u52d9"):(c.innerHTML="",b.innerHTML="",void(b.innerHTML='<span class="subc__support">\u5df2\u70ba\u60a8\u522a\u9664'+SUBSCRIBE_TYPE[a.value]+"\u670d\u52d9</span>"))}).fail(function(a,b,c){})}function addSub(a){var b=document.getElementById("subc__desc"),c=document.getElementById("subc__infoaction"),d={authToken:AUTH_TOKEN,memberId:a.dataset.mid,datasetId:a.value};if("undefined"!=typeof a.dataset.areacode){var e={area:[a.dataset.areacode.toString()]};d.subscribeDetail=JSON.stringify(e)}var f=API_HOST+SRU+"/addSubscriptionContainer/";$.ajax({url:f,method:"POST",data:JSON.stringify(d),dataType:"json",async:!1}).done(function(d){if(d.result===!1)return void alert("\u60a8\u5df2\u8a02\u95b1\u904e\u672c\u670d\u52d9");if(c.innerHTML="","ncdr_flood"===a.value){var e=document.getElementById("subc__btnblock");b.innerHTML='<span class="subc__support">\u60a8\u5df2\u5b8c\u6210\u8a02\u95b1\u3010'+getGeocodeName(TAIWAN_POSTWITHGEO_CODE_TPE[a.dataset.postcode])+"\u3011\u7684\u6df9\u6c34\u8cc7\u8a0a \uff0c\u5982\u6b32\u8a02\u95b1\u5176\u4ed6\u884c\u653f\u5340\uff0c\u8acb\u9ede\u64ca\u4e0b\u65b9\u6309\u9215\u3002</span>",e.innerHTML='<button style="margin-top: 5px;" class="sbtn--want" onclick="location.reload();">\u7e7c\u7e8c\u8a02\u95b1\u5176\u4ed6\u5340\u57df</button>'}else b.innerHTML='<span class="subc__support">\u611f\u8b1d\u60a8\u8a02\u95b1'+SUBSCRIBE_TYPE[a.value]+"\u670d\u52d9!</span>"}).fail(function(a,b,c){})}
